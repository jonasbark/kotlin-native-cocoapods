plugins {
  id 'org.jetbrains.kotlin.multiplatform'
  id 'com.alecstrong.cocoapods'
}

archivesBaseName = 'Sample'

repositories {
  mavenCentral()
  maven { url "https://dl.bintray.com/jetbrains/kotlin-native-dependencies" }
  maven { url "https://dl.bintray.com/kotlin/kotlin-eap" }
  maven { url "https://dl.bintray.com/kotlin/kotlin-dev" }
}

kotlin {
  sourceSets {
    commonMain {}
    iosMain {}
  }

  targetFromPreset(presets.iosArm64, 'iosDevice') {
    binaries {
      framework()
    }
  }
  targetFromPreset(presets.iosX64, 'iosSimulator') {
    binaries {
      framework()
    }
  }
  
  configure([targets.iosDevice, targets.iosSimulator]) {
    compilations.main.source(sourceSets.iosMain)
  }
}